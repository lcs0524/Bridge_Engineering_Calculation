# 高架桥桩基沉降影响范围计算软件 - 结果输出功能

## 功能概述

本软件已完成基于W_z1~W_z16沉降计算结果的完整输出功能，符合《公路路基设计规范》JTG D30-2015的安全评估标准。

## 主要功能模块

### 1. 计算点结果 (W_z1 ~ W_z16)

- **计算点布局**: 4×4网格分布，深度1-4m，距离1.1D-4.4D（D为桩径）
- **输出参数**: 
  - 坐标位置（X, Y, Z）
  - 沉降值（mm）
  - 影响系数
- **命名规范**: W1-W16按规范标准编号

### 2. 图表绘制功能

#### 已实现的图表类型：

1. **沉降分析图** ✅
   - 沉降分布曲线
   - 深度-沉降关系
   - 距离-沉降关系
   - 3D散点图

2. **雷达图** ✅
   - 16个计算点的雷达分析
   - 安全等级色彩标识
   - 量级清晰显示

3. **瀑布图** ✅
   - 沉降值梯度展示
   - 深度层次化显示
   - 色彩渐变效果

4. **影响区域图** ✅
   - 桩基周围影响范围
   - 安全区域划分
   - 等值线分布

5. **综合分析图** ✅
   - 多维度综合展示
   - 统计信息汇总
   - 安全评估结果

6. **等高线图** ⚠️
   - 基础实现完成
   - 需要scipy库支持
   - 特殊情况下可能报错

### 3. 安全评估功能

#### 评估标准 (JTG D30-2015)

**一级公路和高速公路**:
- 一般路段：≤ 300mm
- 桥梁工程：≤ 200mm（严格要求）
- 桥头引道：≤ 100mm
- 涵洞通道：≤ 200mm

**二级及以下公路**:
- 一般路段：≤ 500mm
- 桥头引道：≤ 200mm

#### 评估输出

- **安全等级**: 安全/警告/危险
- **超限分析**: 各类限值对比
- **影响统计**: 面积、点数统计
- **工程建议**: 基于计算结果的专业建议

### 4. 结果导出功能

#### 支持格式：

1. **Excel详细报告** (.xlsx)
   - 多工作表结构
   - 完整计算数据
   - 图表嵌入

2. **CSV数据文件** (.csv)
   - 纯数据格式
   - 便于后续分析
   - 兼容性强

3. **JSON结构化数据** (.json)
   - 完整数据结构
   - 程序间交换
   - API接口支持

4. **工程汇总报告** (.txt)
   - 规范格式报告
   - 关键信息摘要
   - 工程建议

## 技术特点

### 计算理论
- **Boussinesq弹性理论**：核心计算公式 ω = P/(4πG) × [z²/R³ + 2(1-ν)/R]
- **参数修正**：基于FLAC3D数值验证的修正系数
- **多层土体**：支持复杂地质条件

### 可视化技术
- **matplotlib**：高质量科学绘图
- **中文字体支持**：完整中文显示
- **多种图表类型**：满足不同分析需求
- **专业配色方案**：工程标准色彩

### 数据处理
- **NumPy**：高效数值计算
- **Pandas**：数据分析和导出
- **统计分析**：完整的统计指标

## 使用示例

### 命令行演示
```bash
python demo_result_output.py
```

### GUI界面使用
```bash
python main.py
```

## 输出文件示例

演示运行后生成的文件结构：
```
demo_output/
├── 沉降分析.png          # 沉降分析图表
├── 雷达.png             # 雷达分析图
├── 瀑布.png             # 瀑布图
├── 影响区域.png          # 影响区域图
├── 综合分析.png          # 综合分析图
├── 沉降计算详细报告.xlsx  # Excel详细报告
├── 计算结果.csv         # CSV数据文件
├── 计算结果数据.json     # JSON结构化数据
└── 工程汇总报告.txt      # 工程汇总报告
```

## 安全评估实例

**示例计算结果**:
- 桩径: 1.5m，桩长: 30m，荷载: 3000kN
- 最大沉降: 141.089mm (W1点)
- 安全等级: 警告（超出引道限值100mm）
- 影响面积: 136.85m²
- 建议: 桥头设置过渡段，加强施工监测

## 规范依据

1. 《公路路基设计规范》JTG D30-2015
2. Boussinesq弹性理论
3. FLAC3D数值模拟验证
4. 工程实践经验总结

## 注意事项

1. **等高线图**需要scipy库支持，特殊情况下可能因数据维度问题失败
2. **中文字体**显示可能需要系统字体支持
3. **大文件输出**建议在充足磁盘空间下运行
4. **计算精度**已通过多个工程案例验证

## 技术支持

- 版本: 1.0
- 开发者: 金洪松
- 更新日期: 2025.6.3 